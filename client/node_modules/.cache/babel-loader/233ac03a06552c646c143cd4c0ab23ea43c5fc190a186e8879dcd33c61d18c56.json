{"ast":null,"code":"import{useState}from'react';import axios from'axios';import{useGetUserID}from'../hooks/useGetUserID';import{useNavigate}from'react-router-dom';import{useCookies}from'react-cookie';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const CreateRecipe=()=>{const userID=useGetUserID();const[cookies,_]=useCookies([\"access_token\"]);const[recipe,setRecipe]=useState({name:\"\",ingredients:[],instructions:\"\",imageUrl:\"\",cookingTime:0,userOwner:userID});const navigate=useNavigate();const handleChange=event=>{const{name,value}=event.target;setRecipe({...recipe,[name]:value});};const handleIngredientChange=(event,idx)=>{const{value}=event.target;const ingredients=[...recipe.ingredients];ingredients[idx]=value;setRecipe({...recipe,ingredients});};const addIngredient=()=>{const ingredients=[...recipe.ingredients,\"\"];setRecipe({...recipe,ingredients});};const onSubmit=async event=>{event.preventDefault();try{await axios.post(\"http://localhost:5000/recipes\",{...recipe},{headers:{authorization:cookies.access_token}});alert(\"Recipe Created\");navigate(\"/\");}catch(err){console.error(err);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"create-recipe\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"create-recipe-title\",children:\"Create Recipe\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",className:\"textarea-create-recipe\",name:\"name\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{className:\"textarea-create-recipe\",htmlFor:\"ingredients\",children:\"Ingredients\"}),recipe.ingredients.map((ingredient,idx)=>/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"ingredients\",value:ingredient,onChange:event=>handleIngredientChange(event,idx)},idx)),/*#__PURE__*/_jsx(\"button\",{onClick:addIngredient,type:\"button\",children:\" Add Ingredient\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"instructions\",children:\"Instructions\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"textarea-create-recipe\",id:\"instructions\",name:\"instructions\",value:recipe.instructions,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{className:\"textarea-create-recipe\",htmlFor:\"imageUrl\",children:\"ImageURL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"imageUrl\",name:\"imageUrl\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cookingTime\",children:\"Cooking Time (minutes)\"}),/*#__PURE__*/_jsx(\"input\",{className:\"textarea-create-recipe\",type:\"number\",id:\"cookingTime\",name:\"cookingTime\",onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{className:\"create-recipe-button\",type:\"submit\",children:\" Create Recipe \"})]})]});};","map":{"version":3,"names":["useState","axios","useGetUserID","useNavigate","useCookies","jsx","_jsx","jsxs","_jsxs","CreateRecipe","userID","cookies","_","recipe","setRecipe","name","ingredients","instructions","imageUrl","cookingTime","userOwner","navigate","handleChange","event","value","target","handleIngredientChange","idx","addIngredient","onSubmit","preventDefault","post","headers","authorization","access_token","alert","err","console","error","className","children","htmlFor","type","id","onChange","map","ingredient","onClick"],"sources":["/home/ubuntu/recipe-app-docker/client/src/pages/create-recipe.js"],"sourcesContent":["import { useState } from 'react';\nimport axios from 'axios';\nimport { useGetUserID } from '../hooks/useGetUserID';\nimport { useNavigate } from 'react-router-dom';\nimport { useCookies } from 'react-cookie';\n\n\n\nexport const CreateRecipe = () =>{\n    const userID = useGetUserID();\n    const [cookies, _] = useCookies([\"access_token\"]);\n    const [recipe, setRecipe] = useState({\n        name: \"\",\n        ingredients: [],\n        instructions: \"\",\n        imageUrl: \"\",\n        cookingTime: 0,\n        userOwner: userID,\n        \n    });\n\n\n    const navigate = useNavigate()\n\n    const handleChange = (event) => {\n        const  { name, value } = event.target;\n        setRecipe({...recipe, [name]: value });\n    };\n\n\n    const handleIngredientChange = (event, idx) => {\n        const  { value } = event.target;\n        const ingredients = [...recipe.ingredients];\n        ingredients[idx] = value;\n        setRecipe({ ...recipe, ingredients });\n    };\n\n    const addIngredient = () => {\n        const ingredients = [...recipe.ingredients, \"\"];\n        setRecipe({ ...recipe, ingredients });\n    };\n\n   const onSubmit = async (event) => {\n    event.preventDefault();\n    try {\n        await axios.post(\"http://localhost:5000/recipes\", { ...recipe },\n        { headers: { authorization: cookies.access_token }});\n        alert (\"Recipe Created\");\n        navigate(\"/\");\n     } catch (err){\n            console.error(err);\n    }\n   };\n    return (\n    <div className = \"create-recipe\"> \n    <h2 className = \"create-recipe-title\">Create Recipe</h2> \n    <form onSubmit = {onSubmit}>\n        <label htmlFor= \"name\">Name</label>\n        <input type=\"text\" id=\"name\" className=\"textarea-create-recipe\" name = \"name\"  onChange={handleChange}/>\n        <label className=\"textarea-create-recipe\" htmlFor= \"ingredients\">Ingredients</label>\n        {recipe.ingredients.map((ingredient, idx) => (\n            <input key={idx} type=\"text\" name=\"ingredients\" value= {ingredient} onChange = {(event) => handleIngredientChange(event, idx)}\n            />\n        ))}\n    <button onClick={addIngredient} type=\"button\"> Add Ingredient</button>\n        <label htmlFor= \"instructions\">Instructions</label>\n\n        <textarea className=\"textarea-create-recipe\" \n        id=\"instructions\" name=\"instructions\" value={recipe.instructions} onChange={handleChange}></textarea>\n\n        <label className=\"textarea-create-recipe\" htmlFor= \"imageUrl\">ImageURL</label>\n        <input type=\"text\" id=\"imageUrl\" name=\"imageUrl\" \n        onChange={handleChange}/>\n        <label htmlFor=\"cookingTime\">Cooking Time (minutes)</label>\n        <input className=\"textarea-create-recipe\" type=\"number\" id=\"cookingTime\" name=\"cookingTime\" \n        onChange={handleChange}/>\n        <button className = \"create-recipe-button\" type=\"submit\"> Create Recipe </button>\n    </form>\n    </div>\n)};\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}